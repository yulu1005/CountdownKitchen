graph TD
    subgraph Presentation_Layer  %% 表示層
        A[Activities] --> B[MainActivity]
        A --> C[SearchActivity]
        A --> D[AnalyzeActivity]
        A --> E[SettingActivity]
        A --> V[CameraActivity]
        
        B --> F[UI Components]
        C --> F
        D --> F
        E --> F
        V --> W[Camera Preview]
        V --> X[QR Scanner]
    end

    subgraph Data_Layer  %% 資料層
        G[Room DB] --> H[FoodDao]
        G --> I[WasteDao]
        G --> J[EatenDao]
        
        H --> K[FoodItem]
        I --> L[WasteItem]
        J --> M[EatenItem]
    end

    subgraph Business_Logic  %% 商業邏輯層
        N[ViewModel] --> O[Food Management]
        N --> P[Waste Analysis]
        N --> Q[Search Logic]
        N --> R[QR Code Processing]
    end

    subgraph External_APIs  %% 外部 API
        S[Android Camera API] --> T[Camera Features]
        U[ZXing Library] --> Y[QR Code Decoding]
    end

    F --> N
    N --> G
    V --> S
    V --> U
    Y --> R

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style G fill:#bbf,stroke:#333,stroke-width:2px
    style N fill:#bfb,stroke:#333,stroke-width:2px
    style S fill:#fbb,stroke:#333,stroke-width:2px
    style U fill:#fbb,stroke:#333,stroke-width:2px
